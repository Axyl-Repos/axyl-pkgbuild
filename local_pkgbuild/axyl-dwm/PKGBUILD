# Maintainer: Gabriel Matthews <axyl.os.linux.com>

pkgname=axyl-dwm
_pkgname=axyl-dwm
_destname1="/opt/axyl-dwm/"
_destname2="/etc/skel/"
pkgver=6.2
pkgrel=1
pkgdesc="dwm configuration for Axyl OS"
arch=('x86_64')
url="https://github.com/axyl-os/axyl-dwm"
license=('MIT')
depends=(gcr webkit2gtk sh glibc coreutils libx11 libxinerama libxft freetype2 axyl-fonts axyl-dwmblocks)
makedepends=(git make)
conflicts=(dwm)
provides=("${pkgname}")
options=(!strip !emptydirs)
source=("git+$url.git")
md5sums=('SKIP')

build() {
  cd "$pkgname"${_destname1}
  make
}

package() {
  install -dm755 ${pkgdir}${_destname1}
  cp -r ${srcdir}/${_pkgname}${_destname1}* ${pkgdir}${_destname1}
  
  install -dm755 ${pkgdir}${_destname2}
  cp -r ${srcdir}/${_pkgname}"/dwm/" ${pkgdir}${_destname2}".dwm/"

  cd "$pkgname"${_destname1}
  install -Dm755 "./dwm" "$pkgdir/usr/local/bin/dwm"
  install -Dm644 "./dwm.desktop" "$pkgdir/usr/share/xsessions/dwm.desktop"
}
